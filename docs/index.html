<html><style>* {
      margin: 0;
    }
    body {
      align-items: center;
      background: black;
      display: flex;
      justify-content: center;
    }

    canvas {
      background: white;
      image-rendering: pixelated;
    }

    main {
      filter: brightness(0);
      transition: 5s filter;
    }

    main.loaded {
      filter: brightness(1);
    }

    .scanlines {
      position: relative;
      overflow: hidden;
    }
    .scanlines:before,
    .scanlines:after {
      display: block;
      pointer-events: none;
      content: "";
      position: absolute;
    }

    .scanlines:before {
      width: 100%;
      height: 2px;
      z-index: 2147483649;
      background: rgba(57, 255, 20, 0.12);
      opacity: 0.75;
      animation: scanline 6s linear infinite;
    }

    .scanlines:after {
      top: 0;
      right: 0;
      bottom: 0;
      left: 0;
      z-index: 2147483648;
      background: linear-gradient(
        to bottom,
        transparent 50%,
        rgba(57, 255, 20, 0.12) 51%
      );
      background-size: 100% 4px;
      animation: scanlines 1s steps(60) infinite;
    }

    @keyframes scanline {
      0% {
        transform: translate3d(0, 200000%, 0);
      }
    }

    @keyframes scanlines {
      0% {
        background-position: 0 50%;
      }
    }</style><main class="scanlines"><canvas id="c" width="640" height="480"></canvas></main></html><script>!function(t){var s={};function i(e){if(s[e])return s[e].M;var h=s[e]={i:e,l:!1,M:{}};return t[e].call(h.M,h,h.M,i),h.l=!0,h.M}i.m=t,i.c=s,i.d=function(t,s,e){i.o(t,s)||Object.defineProperty(t,s,{C:!0,get:e})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"_",{value:!0})},i.t=function(t,s){if(1&s&&(t=i(t)),8&s)return t;if(4&s&&"object"==typeof t&&t&&t._)return t;var e=Object.create(null);if(i.r(e),Object.defineProperty(e,"default",{C:!0,value:t}),2&s&&"string"!=typeof t)for(var h in t)i.d(e,h,function(s){return t[s]}.bind(null,h));return e},i.n=function(t){var s=t&&t._?function(){return t.default}:function(){return t};return i.d(s,"a",s),s},i.o=function(t,s){return Object.prototype.hasOwnProperty.call(t,s)},i.p="",i(i.s=4)}([function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return Sound}));var jsfxr__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),jsfxr__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(jsfxr__WEBPACK_IMPORTED_MODULE_0__);class Oscillator{constructor(){window.AudioContext=window.AudioContext||window.webkitAudioContext;let t=new AudioContext;this.L=t.createOscillator(),this.A=t.createGain(),this.L.connect(this.A),this.A.connect(t.destination),this.A.gain.value=0,this.L.start(0)}S({frequency:t,type:s,volume:i}){this.L.type=s,this.A.gain.value=i,this.L.frequency.value=t}O(){this.A.gain.value=0}B(){this.L.stop(0)}play({volume:t,frequency:s,duration:i,type:e}){this.L.type=e,this.L.frequency.value=s,this.A.gain.value=t,setTimeout(()=>this.A.gain.value=0,i)}}class Sound{constructor(){this.state={D:!1}}I(){this.state.D||(this.state.D=!0,this.D=this.D||new Oscillator,this.D.S({frequency:50,type:"triangle",volume:.2}))}P(){this.state.D&&(this.state.D=!1,this.D.O(),this.D=null)}F(url){const soundUrl=jsfxr__WEBPACK_IMPORTED_MODULE_0___default()(eval(url));let player=new Audio;player.src=soundUrl,player.play()}U(){this.F("[2,,0.1749,,0.3063,0.713,0.2,-0.2645,,,,,,0.0543,0.1546,,,,1,,,,,0.5]")}T(){this.F("[2,,0.1426,,0.2251,0.7799,0.2555,-0.2285,,,,,,0.7631,-0.4501,,,,1,,,0.0846,,0.5]")}K(){this.F("[3,,0.0937,0.571,0.3803,0.7495,,,,,,,,,,,,,1,,,,,0.5]")}W(){this.F("[3,,0.0867,,0.2283,0.2711,,-0.6853,,,,,,,,,,,1,,,,,0.5]")}H(){this.F("[0,,0.2934,0.1381,0.2143,0.6919,0.3422,-0.2379,,,,,,0.4281,-0.6711,,,,1,,,0.194,,0.5]")}}},function(t,s,i){function e(){this.R=function(t){for(var s=0;s<24;s++)this[String.fromCharCode(97+s)]=t[s]||0;this.c<.01&&(this.c=.01);var i=this.b+this.c+this.e;if(i<.18){var e=.18/i;this.b*=e,this.c*=e,this.e*=e}}}var h=new function(){var t,s,i,h,n,r,a,o,l,c,u,f;this.$=new e,this.reset=function(){var t=this.$;h=100/(t.f*t.f+.001),n=100/(t.g*t.g+.001),r=1-t.h*t.h*t.h*.01,a=-t.i*t.i*t.i*1e-6,t.a||(u=.5-t.n/2,f=5e-5*-t.o),o=1+t.l*t.l*(t.l>0?-.9:10),l=0,c=1==t.m?0:(1-t.m)*(1-t.m)*2e4+32},this.N=function(){this.reset();var e=this.$;return t=e.b*e.b*1e5,s=e.c*e.c*1e5,i=e.e*e.e*1e5+12,3*((t+s+i)/3|0)},this.Y=function(e,d){var w=this.$,y=1!=w.s||w.v,p=w.v*w.v*.1,M=1+3e-4*w.w,m=w.s*w.s*w.s*.1,C=1+1e-4*w.t,x=1!=w.s,v=w.x*w.x,g=w.g,b=w.q||w.r,_=w.r*w.r*w.r*.2,L=w.q*w.q*(w.q<0?-1020:1020),k=w.p?32+((1-w.p)*(1-w.p)*2e4|0):0,A=w.d,S=w.j/2,j=w.k*w.k*.01,O=w.a,E=t,z=1/t,B=1/s,D=1/i,I=5/(1+w.u*w.u*20)*(.01+m);I>.8&&(I=.8),I=1-I;for(var P,F,Q,U,T,q,K=!1,W=0,H=0,R=0,$=0,N=0,Y=0,J=0,G=0,X=0,Z=0,V=new Array(1024),tt=new Array(32),st=V.length;st--;)V[st]=0;for(st=tt.length;st--;)tt[st]=2*Math.random()-1;for(st=0;st<d;st++){if(K)return st;if(k&&++X>=k&&(X=0,this.reset()),c&&++l>=c&&(c=0,h*=o),(h*=r+=a)>n&&(h=n,g>0&&(K=!0)),F=h,S>0&&(Z+=j,F*=1+Math.sin(Z)*S),(F|=0)<8&&(F=8),O||((u+=f)<0?u=0:u>.5&&(u=.5)),++H>E)switch(H=0,++W){case 1:E=s;break;case 2:E=i}switch(W){case 0:R=H*z;break;case 1:R=1+2*(1-H*B)*A;break;case 2:R=1-H*D;break;case 3:R=0,K=!0}b&&((Q=0|(L+=_))<0?Q=-Q:Q>1023&&(Q=1023)),y&&M&&((p*=M)<1e-5?p=1e-5:p>.1&&(p=.1)),q=0;for(var it=8;it--;){if(++J>=F&&(J%=F,3==O))for(var et=tt.length;et--;)tt[et]=2*Math.random()-1;switch(O){case 0:T=J/F<u?.5:-.5;break;case 1:T=1-J/F*2;break;case 2:T=.225*(((T=1.27323954*(U=6.28318531*((U=J/F)>.5?U-1:U))+.405284735*U*U*(U<0?1:-1))<0?-1:1)*T*T-T)+T;break;case 3:T=tt[Math.abs(32*J/F|0)]}y&&(P=Y,(m*=C)<0?m=0:m>.1&&(m=.1),x?(N+=(T-Y)*m,N*=I):(Y=T,N=0),$+=(Y+=N)-P,T=$*=1-p),b&&(V[G%1024]=T,T+=V[(G-Q+1024)%1024],G++),q+=T}q*=.125*R*v,e[st]=q>=1?32767:q<=-1?-32768:32767*q|0}return d}};t.M=function(t){h.$.R(t);var s=h.N(),i=new Uint8Array(4*((s+1)/2|0)+44),e=2*h.Y(new Uint16Array(i.buffer,44),s),n=new Uint32Array(i.buffer,0,44);n[0]=1179011410,n[1]=e+36,n[2]=1163280727,n[3]=544501094,n[4]=16,n[5]=65537,n[6]=44100,n[7]=88200,n[8]=1048578,n[9]=1635017060,n[10]=e,e+=44;for(var r=0,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o="data:audio/wav;base64,";r<e;r+=3){var l=i[r]<<16|i[r+1]<<8|i[r+2];o+=a[l>>18]+a[l>>12&63]+a[l>>6&63]+a[63&l]}return o}},function(t,s,i){t.M=function(){return i(3)('!function(n){var t={};function r(f){if(t[f])return t[f].t;var e=t[f]={u:f,i:!1,t:{}};return n[f].call(e.t,e,e.t,r),e.i=!0,e.t}r.o=n,r.c=t,r.d=function(n,t,f){r.l(n,t)||Object.defineProperty(n,t,{v:!0,get:f})},r.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"s",{value:!0})},r.h=function(n,t){if(1&t&&(n=r(n)),8&t)return n;if(4&t&&"object"==typeof n&&n&&n.s)return n;var f=Object.create(null);if(r.r(f),Object.defineProperty(f,"default",{v:!0,value:n}),2&t&&"string"!=typeof n)for(var e in n)r.d(f,e,function(t){return n[t]}.bind(null,e));return f},r.n=function(n){var t=n&&n.s?function(){return n.default}:function(){return n};return r.d(t,"a",t),t},r.l=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},r.p="",r(r.M=0)}([function(n,t,r){"use strict";let f={j:[{u:[2,100,128,0,3,201,128,0,0,0,0,6,29,0,0,0,194,4,1,3,25,191,115,244,147,6,84,6],p:[5,1,2,1,1,1,1,3,4,1,2,1,2,1,2,,,7,8,7,8,7,8,7,8,6,9],c:[{n:[123,123,135,128,123,123,135,130,126,125,126,128,123,123,135,128,123,123,135,130,126,125,126,128,123,123,135,128,123,123,135,130],f:[21,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,48]},{n:[123,123,135,128,123,123,135,130,126,125,126,128,123,123,135,128,123,123,135,130,126,125,126,128,123,,99,,,,99,,,,,,,,,,,,,,,,,,,,,,,,,,111],f:[,,,,,,,,,,,,,,,,,,,,,,,,,,,11,13,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,31]},{n:[111,,,,,,,,123,,,,,,,,111,,,,,,,,123],f:[]},{n:[114,,,,,,,,126,,,,,,,,114,,,,,,,,114,126,111,123,114,126,118,130],f:[13,,,,,,,,,,,,,,,,,,,,,,,,13,,13,,13,,13,11,29,,,,,,,,,,,,,,,,,,,,,,,,32,,41,,29,,25,15]},{n:[123,123,135,128,123,123,135,130,126,125,126,128,123,123,135,128,123,123,135,130,126,125,126,128,123,,99,,,,99,,,,,,,,,,,,,,,,,,,,,,,,,,111],f:[13,11,21,17,,,,,,,,,,,,,,,,,,,,,,,,,,,,17,29,,25,113,,,,,,,,,,,,,,,,,,,,,,,,,,,,194]},{n:[111,,,,,,,,123,,,,,,,,111,,,,,,,,99],f:[]},{n:[111,123,,123,111,,123,111,111,123,,123,111,,123,111,111,123,,123,111,,123,111,111,123,,123,111,,123,111],f:[]},{n:[114,126,,126,114,,126,114,114,126,,126,114,,126,114,114,126,,126,114,,126,114,116,128,,128,116,,114,121],f:[]},{n:[],f:[]}]},{u:[0,255,117,1,0,255,110,0,1,0,4,6,35,0,0,0,0,0,0,2,14,1,1,39,76,5,0,0],p:[,1,1,1,1,1,1,2,,,,1,1,1,1,1,1,,,1,1,1,1,1,1],c:[{n:[147,,,,,,147,,,,147,,,,,,147,,,,,,147,,,,147,,,,147],f:[]},{n:[147],f:[]}]},{u:[0,0,140,0,0,0,140,0,0,60,4,10,68,0,0,0,187,5,0,1,239,135,0,32,108,5,16,4],p:[,1,1,2,3,2,3,4,,,,2,3,2,3,2,3,,,5,5,5,5,5,5,4],c:[{n:[,,,,147,,,,,,,,148,,,,,,,,147,,,,,,,,147],f:[13,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,35]},{n:[,,,,147,,,147,,,,,148,,,,,,,,147,,,147,,,147,,,,147],f:[13,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,35]},{n:[,,,,147,,,147,,,,,148,,,,,,,,147,,,147,,,147,,,147,147,147],f:[13,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,35]},{n:[147],f:[13,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,68]},{n:[147,,,147,,,147,,147,,,147,,147,,147,147,,,147,,,147,,147,,,147,,147,,147],f:[13,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,35]}]},{u:[2,192,128,0,2,192,140,18,0,0,107,115,138,0,0,0,136,5,1,2,8,92,21,56,148,5,85,8],p:[3,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2],c:[{n:[111],f:[]},{n:[114],f:[]},{n:[111],f:[24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,24,5,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,56]}]},{u:[3,0,127,0,3,68,127,0,1,218,4,4,40,0,0,1,55,4,1,2,67,115,124,190,67,6,39,1],p:[,,,1,2,1,2,3,,,,1,2,1,2,1,2,,,1,4,1,4,1,4,3],c:[{n:[,,,,147,,,,,,,,147,,,,,,,,147,,,,,,,,147],f:[]},{n:[,,,,147,,,,,,,,147,,,,,,,,147,,,,,,,,147,,147,147],f:[]},{n:[147],f:[]},{n:[,,,,147,,,,,,,,147,,,,,,,,147,,,,,,,,147,,,147],f:[]}]},{u:[0,91,128,0,0,95,128,12,0,0,12,0,67,0,0,0,0,0,0,2,255,15,0,32,83,3,134,4],p:[,,,1,2,3,2,1,2,,,1,2,3,2,1,2,,,,,4,5,4,5],c:[{n:[159,,147,,154,,147,,157,,147,,154,,150,,159,,147,,154,,147,,162,,147,,154,,150,,123],f:[5,13,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,67]},{n:[159,,147,,154,,147,,157,,147,,154,,150,,159,,147,,154,,147,,162,,147,,157,,162,,126],f:[]},{n:[159,,147,,154,,147,,157,,147,,154,,150,,159,,147,,154,,147,,162,,147,,154,,150,,123],f:[5,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,3]},{n:[159,,162,,164,,,,159,,162,164,,,162,,159,,162,,164,,,,159,,162,164,,,162],f:[13,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,25]},{n:[157,,162,,164,,,,157,,162,164,,,162,,157,,162,,164,,,,157,,162,164,,,162],f:[,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,13,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,67]}]},{u:[3,146,140,0,1,224,128,3,0,0,92,0,95,0,0,3,179,5,1,3,37,135,63,67,150,3,157,6],p:[,,,,,,,,,1,2,3,,1,2,1,2,3,,4,5,,,,,3],c:[{n:[123,,,,,,,,,,,,,,,,130],f:[11,24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,92,67]},{n:[133,,,,,,,,,,,,,,,138,126,,,,,,,,,,,,125],f:[11,,,,,,,,,,,,,,,,,,,,,,,,,,,,11,,,,95,,,,,,,,,,,,,,,,,,,,,,,,,,,,29]},{n:[123],f:[24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,24,52,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,67]},{n:[123,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,138,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,116],f:[11,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,95]},{n:[133,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,126,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,118],f:[]}]},{u:[0,255,106,1,0,255,106,0,1,0,5,7,164,0,0,0,0,0,0,2,255,0,2,16,83,5,53,1],p:[,,,,,,,1,,,,,,,,,,1,,,,,,,,1],c:[{n:[147],f:[]}]}],m:5513,O:32,A:26,g:8},e=new function(){var n,t,r,f,e,u=function(n){return Math.sin(6.283184*n)},i=function(n){return.003959503758*Math.pow(2,(n-128)/12)},a=function(n,t,r){var f,e,u,a,c,l,v,s=o[n.u[0]],h=n.u[1],p=n.u[3],b=o[n.u[4]],M=n.u[5],y=n.u[8],j=n.u[9],w=n.u[10]*n.u[10]*4,d=n.u[11]*n.u[11]*4,m=n.u[12]*n.u[12]*4,O=1/m,A=n.u[13],g=r*Math.pow(2,2-n.u[14]),I=new Int32Array(w+d+m),S=0,L=0;for(f=0,e=0;f<w+d+m;f++,e++)e>=0&&(e-=g,l=i(t+(15&(A=A>>8|(255&A)<<4))+n.u[2]-128),v=i(t+(15&A)+n.u[6]-128)*(1+8e-4*n.u[7])),u=1,f<w?u=f/w:f>=w+d&&(u-=(f-w-d)*O),a=l,p&&(a*=u*u),c=s(S+=a)*h,a=v,y&&(a*=u*u),c+=b(L+=a)*M,j&&(c+=(2*Math.random()-1)*j),I[f]=80*c*u|0;return I},o=[u,function(n){return n%1<.5?1:-1},function(n){return n%1*2-1},function(n){var t=n%1*4;return t<2?t-1:3-t}];this.init=function(u){n=u,t=u.A,r=0,f=u.m*u.O*(t+1)*2,e=new Int32Array(f)},this.I=function(){var i,c,l,v,s,h,p,b,M,y,j,w,d,m,O=new Int32Array(f),A=n.j[r],g=n.m,I=n.O,S=0,L=0,_=!1,x=[];for(l=0;l<=t;++l)for(p=A.p[l],v=0;v<I;++v){var C=p?A.c[p-1].f[v]:0;C&&(A.u[C-1]=A.c[p-1].f[v+I]||0,C<16&&(x=[]));var D=o[A.u[15]],P=A.u[16]/512,U=Math.pow(2,A.u[17]-9)/g,k=A.u[18],q=A.u[19],z=43.23529*A.u[20]*3.141592/44100,B=1-A.u[21]/255,E=1e-5*A.u[22],F=A.u[23]/32,G=A.u[24]/512,H=6.283184*Math.pow(2,A.u[25]-9)/g,J=A.u[26]/255,K=A.u[27]*g&-2;for(j=(l*I+v)*g,s=0;s<4;++s)if(h=p?A.c[p-1].n[v+s*I]:0){x[h]||(x[h]=a(A,h,g));var N=x[h];for(c=0,i=2*j;c<N.length;c++,i+=2)O[i]+=N[c]}for(c=0;c<g;c++)(y=O[b=2*(j+c)])||_?(w=z,k&&(w*=D(U*b)*P+.5),L+=(w=1.5*Math.sin(w))*(d=B*(y-L)-(S+=w*L)),y=3==q?L:1==q?d:S,E&&(y=(y*=E)<1?y>-1?u(.25*y):-1:1,y/=E),_=(y*=F)*y>1e-5,m=y*(1-(M=Math.sin(H*b)*G+.5)),y*=M):m=0,b>=K&&(m+=O[b-K+1]*J,y+=O[b-K]*J),O[b]=0|m,O[b+1]=0|y,e[b]+=0|m,e[b+1]+=0|y}return++r/n.g},this.S=function(){var n=44+2*f-8,t=n-36,r=new Uint8Array(44+2*f);r.set([82,73,70,70,255&n,n>>8&255,n>>16&255,n>>24&255,87,65,86,69,102,109,116,32,16,0,0,0,1,0,2,0,68,172,0,0,16,177,2,0,4,0,16,0,100,97,116,97,255&t,t>>8&255,t>>16&255,t>>24&255]);for(var u=0,i=44;u<f;++u){var a=e[u];a=a<-32767?-32767:a>32767?32767:a,r[i++]=255&a,r[i++]=a>>8&255}return r},this.getData=function(n,t){for(var r=2*Math.floor(44100*n),f=new Array(t),u=0;u<2*t;u+=1){var i=r+u;f[u]=n>0&&i<e.length?e[i]/32768:0}return f}};e.init(f),e.init(f);let u=!1;setInterval((function(){if(!u&&(u=e.I()>=1)){let n=e.S();postMessage(n)}}),10)}]);',null)}},function(t,s,i){"use strict";var e=window.URL||window.webkitURL;t.M=function(t,s){try{try{var i;try{(i=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder)).append(t),i=i.getBlob()}catch(s){i=new Blob([t])}return new Worker(e.createObjectURL(i))}catch(s){return new Worker("data:application/javascript,"+encodeURIComponent(t))}}catch(t){if(!s)throw Error("Inline worker is not supported");return new Worker(s)}}},function(t,s,i){"use strict";i.r(s);let e=null;class h{constructor(t){this.canvas=t,e=this.canvas.getContext("2d"),this.J={x:0,y:0}}G(t){return t-this.J.x+this.canvas.width/2}X(t){return t-this.J.y+this.canvas.height/2}Z(t){e.save(),t(),e.restore()}V(){e.clearRect(0,0,this.canvas.width,this.canvas.height)}tt(t){e.fillStyle=t,e.fillRect(0,0,this.canvas.width,this.canvas.height)}rect({rect:t,st:s,it:i,shadowBlur:h,shadowColor:n,lineWidth:r=1,et:a=!0,rotation:o,size:l}){a&&(t[0]=this.G(t[0]),t[1]=this.X(t[1])),o&&(e.translate(t[0]+l/2,t[1]+l/2),e.rotate(o),e.translate(-1*t[0]-l/2,-1*t[1]-l/2)),e.shadowBlur=h,e.shadowColor=n,s&&(e.fillStyle=s,e.fillRect(t[0],t[1],...t.slice(2))),i&&(e.strokeStyle=i,e.lineWidth=r,e.strokeRect(t[0],t[1],...t.slice(2)))}arc({arc:t,st:s,it:i,shadowBlur:h,shadowColor:n}){e.beginPath(),e.arc(this.G(t[0]),this.X(t[1]),...t.slice(2)),e.shadowBlur=h,e.shadowColor=n,s&&(e.fillStyle=s,e.fill()),i&&(e.strokeStyle=i,e.stroke())}text({text:t,x:s,y:i,size:h="14px",font:n="Courier",letterSpacing:r=!1,et:a=!0,filter:o,st:l}){a&&(s=this.G(s),i=this.X(i)),o&&(e.filter=o),e.font=h+" "+n,t=r?t.split("").join(" "):t,e.fillStyle=l||"#fff",e.fillText(t,s,i)}ht({ht:t,shadowBlur:s=0,shadowColor:i,rotation:h,x:n,y:r,st:a,it:o}){h&&(e.translate(this.G(n),this.X(r)),e.rotate(h),e.translate(-1*this.G(n),-1*this.X(r))),e.beginPath(),e.moveTo(this.G(t[0][0]),this.X(t[0][1])),t.slice(1).map(t=>e.lineTo(this.G(t[0]),this.X(t[1]))),e.closePath(),e.shadowBlur=s,e.shadowColor=i,o&&(e.strokeStyle=o,e.stroke()),a&&(e.fillStyle=a,e.fill())}fill({path:t,x:s,y:i,st:h,it:n,rotation:r,et:a=!0,nt:o=!0,size:l}){a&&(s=this.G(s),i=this.X(i)),r&&(e.translate(s,i),e.rotate(r),e.translate(-1*s,-1*i)),e.translate(s,i),o||e.translate(-l/2,-l/2+.5),h&&(e.fillStyle=h,e.fill(t)),n&&(e.strokeStyle=n,e.fillStyle=h||"#131",e.fill(t),e.stroke(t))}rt({x:t,y:s,size:i}){this.rect({rect:[t-i/2,s-i/2,i,i],color:"#f00"})}}let n=document.getElementById("c");class r{constructor(){this.canvas=n}initialize(){let t=document.querySelector("body");const s=s=>{t.clientWidth/t.clientHeight>640/480?(n.style.height="100vh")&&(n.style.width="auto"):(n.style.height="auto")&&(n.style.width="100vw")};s(),t.onresize=s}}var a=class{constructor(){document.addEventListener("keyup",t=>this.at(t)),document.addEventListener("keydown",t=>this.ot(t)),this.lt={},this.ct=13,this.ut=32,this.ft=37,this.dt=38,this.wt=39,this.yt=40}pt(t){return this.lt[t]}ot(t){this.lt[t.keyCode]=!0}at(t){delete this.lt[t.keyCode]}},o=i(0),l=i(2),c=i.n(l);class u{constructor(){(new c.a).onmessage=function(t){let s=t.data,i=document.createElement("audio");i.src=URL.createObjectURL(new Blob([s],{type:"audio/wav"})),i.volume=0,i.loop=!0,function t(s){s.then(t=>{}).catch(s=>{setTimeout(()=>{let s=i.play();t(s)},1e3)})}(i.play())}}}class f{Mt(t,s){return!t.Ct&&!s.Ct&&t.x<s.x+s.size/2&&t.x+t.size>s.x-s.size/2&&t.y<s.y+s.size/2&&t.y+t.size>s.y-s.size/2&&(t.xt(),s.vt(t),!0)}}let d=[],w=[];function y(t,s){return(t%s+s)%s}class p{constructor({gt:t,ch:s}){for(let i=0;i<100;i++)d.push([Math.random()*t,Math.random()*s,Math.random()]);for(let i=0;i<100;i++)w.push([Math.random()*t,Math.random()*s,Math.random()])}Z(t){t.Z(()=>{t.tt("#111"),d.map(s=>t.rect({rect:[y(s[0]-t.J.x/(3+3*s[2]),t.canvas.width),y(s[1]-t.J.y/(3+3*s[2]),t.canvas.height),1,1],st:"rgba(255, 255, 255, 0.6)",et:!1})),w.map(s=>t.rect({rect:[y(s[0]-t.J.x/(7+3*s[2]),t.canvas.width),y(s[1]-t.J.y/(7+3*s[2]),t.canvas.height),1,1],st:"rgba(255, 255, 255, 0.3)",et:!1})),t.text({text:"back to earth",x:-145,y:-95,size:"36px",font:"serif",letterSpacing:!0}),t.text({text:"Arrow keys to move. SPACE to shoot.",x:-145,y:105}),t.text({text:"ENTER to land back on earth.",x:-115,y:130}),t.text({text:"Shoot things. Collect ore. Upgrade weapons.",x:-178,y:155})})}}let M=new Path2D("m 6 0 l -6 5 l 6 5 z");class m{constructor(){this.bt=[{x:0,y:0,_t:0,color:"#fff",visible:!1}],this.Lt=0}kt(t){this.Lt+=1,this.bt=this.bt.map(s=>(s.visible=Math.sqrt(t.At()*t.At()+t.St()*t.St())>400,s._t=Math.atan2(t.St(),t.At()),s))}Z(t){this.bt.forEach(s=>s.visible&&t.Z(()=>{t.fill({path:M,x:Math.cos(s._t)*(5*Math.sin(this.Lt/10)-230)+320,y:Math.sin(s._t)*(5*Math.sin(this.Lt/10)-230)+240,rotation:s._t,st:s.color,et:!1})}))}}class C{constructor(){this.timeout=15}kt(t,s,i,e){if(t.pt(t.ct)&&this.timeout<0){if(this.timeout=15,s.jt=!1,s.timeout=15,s.Ot(0),s.Et(0),i.zt(),s.Bt(),s.level>=1)for(let t=0;t<5;t++)e.Dt((300+300*Math.random())*(2*Math.round(Math.random())-1)+s.At(),(300+300*Math.random())*(2*Math.round(Math.random())-1)+s.St());if(s.level>=2)for(let t=0;t<20;t++)e.Dt((300+300*Math.random())*(2*Math.round(Math.random())-1)+s.At(),(300+300*Math.random())*(2*Math.round(Math.random())-1)+s.St())}if(this.timeout-=1,t.pt(t.ut)&&this.timeout<0){if(this.timeout=15,s.level>=s.It.length-1)return;let t=s.It[s.level+1].Pt;s.Ft>=t&&(s.Ft-=t,s.Qt(s.level+1))}}Z(t,s){let i=s=>t.text({text:s[2],x:s[0],y:s[1],et:!1,st:s[3]||"#fff"});t.Z(()=>{t.rect({rect:[0,0,640,480],st:"rgba(0, 0, 0, 0.6)",et:!1}),t.rect({rect:[150,90,340,300],st:"#fff",et:!1}),t.rect({rect:[151,91,338,298],st:"#000",shadowBlur:2,shadowColor:"#fff",et:!1})}),t.Z(()=>{if(t.text({text:"Welcome to Earth",x:210,y:130,size:"20px",font:"serif",letterSpacing:!0,et:!1}),s.level>=s.It.length-1)i([212,210,"You have all ship upgrades"]);else{let t=s.It[s.level+1];i([230,165,"Next ship improvements"]),i([245,195,`Speed:     ${t.speed}`,"#ffa"]),i([227,220,`Weapons:     ${t.Ut}`,"#ffa"]),i([252,245,`Hull:     ${t.Tt}`,"#ffa"]),i([252,270,`Cost:     ${t.Pt} ore`,"#ffa"]),i([218,300,`You have:     ${s.Ft} ore`]),i([230,335,"SPACE to upgrade ship"])}i([235,360,"ENTER to leave Earth"])})}}class x{Z(t){t.Z(()=>{t.text({text:"ðŸŒŽ",x:-65,y:35,size:"100px",color:"blue",filter:"contrast(75%) brightness(60%) saturate(40%) hue-rotate(-10deg)"})})}}class v{constructor({x:t,y:s,color:i="#fff"}){this.x=t,this.y=s,this.color=i,this.dx=4*Math.random()-2,this.dy=4*Math.random()-2,this.qt=!1,this.Ct=!1}kt(){this.x+=this.dx,this.y+=this.dy}Z(t){t.Z(()=>{t.rect({rect:[this.x,this.y,2,2],st:this.color,shadowBlur:2,shadowColor:this.color})})}}let g={"main-laser":{color:"#3ff",shadowColor:"#0ff",speed:4,Kt:4},"enemy-laser":{color:"#f00",shadowColor:"#f00",speed:4,Kt:4},"secondary-laser":{color:"#f6f",shadowColor:"#f0f",speed:10,Kt:1,line:8},"enemy-secondary-laser":{color:"#f00",shadowColor:"#f00",speed:10,Kt:1,line:8},K:{type:"missile",color:"#ff0",shadowColor:"#ff0",speed:.8,Kt:10,Wt:5,arc:2,Ht:!0},"enemy-missile":{type:"missile",color:"#f60",shadowColor:"#f60",speed:.8,Kt:10,Wt:5,arc:2,Ht:!0}};class b{constructor({x:t,y:s,Rt:i,$t:e,type:h,Nt:n,target:r}){this.type=g[h],this.x=t,this.y=s,this.Rt=i,this.Nt=n,this.Kt=1e3*this.type.Kt/60,this.size=1,this.qt=!1,this.$t=e,this.Ct=!1,this.dx=Math.sin(this.Rt)*this.type.speed,this.dy=-Math.cos(this.Rt)*this.type.speed,this.target=r}kt(){if(this.Kt-=1,this.Kt<=0&&(this.qt=!0),!this.Ct){if("missile"===this.type.type){let t,s;if(this.target&&!this.target.Ct&&this.Kt<1e3*(this.type.Kt-.5)/60){t=this.x-this.target.x,s=this.y-this.target.y;let i=Math.sqrt(t*t+s*s);t=t/i*this.type.speed,s=s/i*this.type.speed}else t=this.dx*-this.type.speed,s=this.dy*-this.type.speed;this.dx-=t,this.dy-=s;let i=Math.sqrt(this.dx*this.dx+this.dy*this.dy);i>this.type.Wt&&(this.dx=this.dx/i*this.type.Wt,this.dy=this.dy/i*this.type.Wt)}this.x+=this.dx,this.y+=this.dy}}xt(){this.Ct=!0,this.Kt=2}Z(t){t.Z(()=>{this.Ct?t.arc({arc:[this.x,this.y,4/this.Kt*(this.type.Ht?2:1),0,2*Math.PI],st:"#ff8",shadowBlur:10,shadowColor:"#ff0"}):this.type.line?t.rect({rect:[this.x,this.y,1,this.type.line],st:this.type.color,shadowBlur:2,shadowColor:this.type.shadowColor,rotation:this.Rt,size:1}):this.type.arc?t.arc({arc:[this.x,this.y,this.type.arc,0,2*Math.PI],st:this.type.color,shadowBlur:1,shadowColor:this.type.color}):t.rect({rect:[this.x,this.y,2,2],st:this.type.color,shadowBlur:2,shadowColor:this.type.shadowColor})})}}function _({Yt:t,Jt:s,x:i,y:e,Rt:h,type:n,Nt:r,Gt:a}){t&&(r.Xt.push(new b({x:i,y:e,Rt:h,$t:1,type:n,Nt:r})),r.Zt=!1,window.setTimeout(()=>r.Zt=!0,1e3*s),a())}function L({Yt:t,Jt:s,x:i,y:e,Rt:h,type:n,Nt:r,Gt:a}){t&&(r.Xt.push(new b({x:i,y:e,Rt:h,$t:1,type:n,Nt:r})),r.Vt*=-1,r.ts=!1,window.setTimeout(()=>r.ts=!0,1e3*s),a())}function k({Yt:t,Jt:s,x:i,y:e,Rt:h,type:n,Nt:r,target:a,Gt:o}){t&&(r.Xt.push(new b({x:i,y:e,Rt:h,$t:1,type:n,Nt:r,target:a})),r.ss*=-1,r.es=!1,window.setTimeout(()=>r.es=!0,1e3*s),o())}var A={hs:"M 2 16 Q 0 8 4 8 C 8 6 6 8 8 4 L 10 2 L 12 4 C 14 8 12 6 16 8 Q 20 8 18 16 L 14 14 Q 10 16 6 14 L 2 16 ",ns:{small:"M 1 7 Q 0 6 2 4 C 3 5 4 5 4 2 L 5 1 L 6 2 C 6 5 7 5 8 4 Q 10 6 9 7 L 7 7 C 6 8 4 8 3 7 L 1 7 ",rs:"M 2 14 Q 0 12 4 8 C 6 10 8 10 8 4 L 10 2 L 12 4 C 12 10 14 10 16 8 Q 20 12 18 14 L 14 14 C 12 16 8 16 6 14 L 2 14 ",as:"M4 40 L8 32 L14 32 L20 36 L26 32 L32 32 L36 40 Q40 30 40 20 Q40 12 36 6 Q36 10 30 20 L26 20 Q22 14 24 10 L20 0 L16 10 Q18 14 14 20 L10 20 Q4 12 4 6 Q0 10 0 20 Q0 28 4 40 Z"}},S=[{path:A.ns.rs,acceleration:.01,os:.05,Wt:1,Ut:["enemy-laser","enemy-secondary-laser"],ls:.5,cs:.2,us:5,fs:100,size:20},{path:A.ns.small,acceleration:.05,os:.1,Wt:1.5,Ut:["enemy-laser"],ls:.5,us:3,fs:100,size:10},{path:A.ns.as,acceleration:.05,os:.1,Wt:1.5,Ut:["enemy-laser","enemy-secondary-laser","enemy-missile"],ls:.5,cs:.2,ds:.2,us:10,fs:100,size:40}];class j{constructor(t,s,i){this.x=s,this.y=i,this.dx=0,this.dy=0,this.Rt=0,this.qt=!1,this.Ct=!1,this.type=t,this.Xt=[],this.size=t.size,this.acceleration=t.acceleration,this.Wt=t.Wt,this.os=t.os,this.us=t.us,this.fs=t.fs,this.I=!0,this.Zt=t.Ut.includes("enemy-laser"),this.ls=t.ls,this.ts=t.Ut.includes("enemy-secondary-laser"),this.cs=t.cs,this.Vt=1,this.es=t.Ut.includes("enemy-missile"),this.ds=t.ds,this.ss=1}vt({$t:t,dx:s,dy:i,Nt:e}){this.dx+=s/30,this.dy+=i/30,this.us-=t,this.us<=0&&(this.Ct=!0,this.ws=Array(40).fill().map(t=>new v({x:this.x,y:this.y,color:"#aa3"})),this.Kt=80,e.Ft+=this.fs)}ys(t,s){_({Yt:this.Zt,Jt:this.ls,x:this.x,y:this.y,size:this.size,Rt:this.Rt,type:"enemy-laser",Nt:this,Gt:()=>t.H()}),L({Yt:this.ts,Jt:this.cs,x:this.Vt*Math.cos(this.Rt)*(this.size/2)+this.x,y:this.Vt*Math.sin(this.Rt)*(this.size/2)+this.y,size:this.size,Rt:this.Rt,type:"enemy-secondary-laser",Nt:this,Gt:()=>t.T()}),k({Yt:this.es,Jt:this.ds,x:this.ss*Math.cos(this.Rt)*(this.size/2)+this.x,y:this.ss*Math.sin(this.Rt)*(this.size/2)+this.y,Rt:this.Rt+Math.PI/2*this.ss,type:"enemy-missile",Nt:this,target:s,Gt:()=>t.K()})}kt(t,s){if(this.Xt.map(t=>t.kt()),this.Xt=this.Xt.filter(t=>!t.qt),this.Ct)this.Kt-=1,this.ws.map(t=>t.kt()),this.Kt<=0&&(this.qt=!0);else{let i=Math.atan2(s.At()-this.x,-s.St()+this.y);if(this.Rt+=this.Rt-i>0?-this.os:this.os,this.Rt%=2*Math.PI,this.I=!0,this.I){this.dx+=Math.sin(this.Rt)*this.acceleration,this.dy+=Math.cos(this.Rt)*-this.acceleration;let t=Math.sqrt(this.dx*this.dx+this.dy*this.dy);t>this.Wt&&(this.dx=this.dx/t*this.Wt,this.dy=this.dy/t*this.Wt)}let e=Math.sqrt((this.x-s.x)*(this.x-s.x)+(this.y-s.y)*(this.y-s.y));!s.Ct&&e<320&&this.ys(t,s)}this.x+=this.dx,this.y+=this.dy}Z(t){this.Xt.map(s=>s.Z(t)),this.Ct?(this.ws.map(s=>s.Z(t)),t.Z(()=>{t.arc({arc:[this.x+20*Math.random()-10,this.y+20*Math.random()-10,2+6*Math.random(),0,2*Math.PI],it:"rgb(255,"+Math.floor(155*Math.random()+100)+","+Math.floor(50*Math.random())+")",shadowBlur:10,shadowColor:"#f00"})})):t.Z(()=>{t.fill({path:new Path2D(this.type.path),x:this.x,y:this.y,rotation:this.Rt,st:"#700",it:"#a44",nt:!1,size:this.size})})}}class O{constructor(){this.ns=[]}Dt(t,s){let i=Math.floor(3*Math.random());this.ns.push(new j(S[i],t,s))}kt(t,s){this.ns.forEach(i=>i.kt(t,s)),this.ns=this.ns.filter(t=>!t.qt)}Z(t){this.ns.forEach(s=>s.Z(t))}}class E{kt(){}Z(t){t.Z(()=>{t.tt("rgba(0,0,0,0.85)"),t.text({text:"game over",x:170,y:200,size:"48px",font:"serif",et:!1,letterSpacing:!0})})}}class z{constructor(){this.Ft=0}kt(t){this.us=t.us,this.ps=t.ps,this.Ft=t.Ft}Z(t){t.Z(()=>{t.rect({rect:["270","10",100,5],it:"#fff",et:!1})}),t.Z(()=>{let s=this.us/this.ps;if(t.rect({rect:["270","10",100*s,5],st:`rgb(${200-255*s}, ${200*s}, 0)`,et:!1}),this.Ft>-10){let s=`ore: ${this.Ft}`;t.text({text:s,x:"299"-3.5*(s.length-6),y:"30",size:"11px",et:!1})}})}}var B=[{os:.05,Wt:1,acceleration:.01,size:20,ls:.3,Zt:!0,ps:10},{Pt:100,os:.07,Wt:2,acceleration:.03,size:20,ls:.3,Zt:!0,cs:.2,ts:!0,ps:20,speed:"fast",Ut:"dual-blasters",Tt:"strong"},{Pt:400,os:.09,Wt:3,acceleration:.2,size:20,ls:.3,Zt:!0,cs:.2,ts:!0,ds:.2,es:!0,ps:40,speed:"fastest",Ut:"missiles",Tt:"strongest"}];let D=3.4,I=.05,P=1,F=.01,Q=20,U=.3,T=.2,q=.2,K={I:!1},W=0;function H(t,s,i,e){let h=null,n=99999999;return i.forEach(i=>{if(i.Ct)return;let r=i.x-t,a=i.y-s,o=Math.sqrt(r*r+a*a);o>e||o<n&&(h=i,n=o)}),h}class R{constructor(){this.x=85,this.y=-400,this.dx=-.1,this.dy=.5,this.Xt=[],this.jt=!1,this.Ft=0,this.timeout=0,this.level=0,this.It=B,this.ps=10,this.us=10,this.Ct=!1,this.size=Q,this.Zt=!0,this.ts=!1,this.Vt=1,this.es=!1,this.ss=1,this.Qt(1)}At(){return this.x}St(){return this.y}Ot(t){this.dx=t}Et(t){this.dy=t}vt({$t:t,Ms:s,ms:i}){this.us-=t,this.us<=0&&(this.Ct=!0,this.ws=Array(100).fill().map(t=>new v({x:this.x,y:this.y,color:"#aa3"})).concat(Array(100).fill().map(t=>new v({x:this.x,y:this.y,color:"#a33"}))),this.Kt=80)}Bt(){this.us=B[this.level].ps}Qt(t){({os:I,Wt:P,acceleration:F,size:Q,ls:U,cs:T,ds:q}=B[t]),this.Zt=B[t].Zt,this.ts=B[t].ts,this.es=B[t].es,this.ps=B[t].ps,this.level=t}ys(t,s,i){t.pt(t.ut)&&(_({Yt:this.Zt,Jt:U,x:this.x+Math.sin(D)*Q/2,y:this.y-Math.cos(D)*Q/2,Rt:D,type:"main-laser",Nt:this,Gt:()=>s.U()}),L({Yt:this.ts,Jt:T,x:this.Vt*Math.cos(D)*(Q/2)+this.x,y:this.Vt*Math.sin(D)*(Q/2)+this.y,size:Q,Rt:D,type:"secondary-laser",Nt:this,Gt:()=>s.T()}),k({Yt:this.es,Jt:q,x:this.ss*Math.cos(D)*(Q/2)+this.x,y:this.ss*Math.sin(D)*(Q/2)+this.y,Rt:D+Math.PI/2*this.ss,type:"missile",Nt:this,target:H(this.x,this.y,i,260),Gt:()=>s.K()}))}kt(t,s,i,e){if(this.Xt.map(t=>t.kt()),this.Xt=this.Xt.filter(t=>!t.qt),this.Ct)this.Kt-=1,this.ws.map(t=>t.kt()),this.Kt<=0&&(this.Cs=!0);else{if(this.timeout<0&&t.pt(t.ct)&&(this.jt=!0),this.timeout-=1,W+=1,t.pt(t.ft)&&(D-=I),t.pt(t.wt)&&(D+=I),K.I=t.pt(t.dt),K.I){this.dx+=Math.sin(D)*F,this.dy+=Math.cos(D)*-F;let t=Math.sqrt(this.dx*this.dx+this.dy*this.dy);t>P&&(this.dx=this.dx/t*P,this.dy=this.dy/t*P),s.I()}else s.P();this.ys(t,s,e),this.x+=this.dx,this.y+=this.dy,i.J.x=this.x,i.J.y=this.y}}Z(t){if(this.Xt.map(s=>s.Z(t)),this.Ct)this.ws.map(s=>s.Z(t)),t.Z(()=>{t.arc({arc:[this.x+20*Math.random()-10,this.y+20*Math.random()-10,2+6*Math.random(),0,2*Math.PI],it:"rgb(255,"+Math.floor(155*Math.random()+100)+","+Math.floor(50*Math.random())+")",shadowBlur:10,shadowColor:"#f00"})});else{K.I&&this.xs(t);let s=this.x*this.x+this.y*this.y;s<3600&&this.vs(t,s),t.Z(()=>{t.fill({path:new Path2D(A.hs),x:this.x,y:this.y,rotation:D,it:"#070",nt:!1,size:Q})})}}xs(t){t.Z(()=>{t.ht({x:this.x,y:this.y,ht:[[this.x+-.25*Q,this.y+.25*Q],[this.x+.25*Q,this.y+.25*Q],[this.x,this.y+.25*Q+5*Math.random()],[this.x+-.25*Q,this.y+.25*Q]],rotation:D,st:"orange"})})}vs(t,s){t.Z(()=>{t.arc({arc:[this.x,this.y,4*s/60+Math.sin(W/8)+10,0,2*Math.PI],it:`rgba(255, 255, 255, ${1-s/3600})`})})}}const $=[[[-6,-10],[2,-10],[10,-7],[10,-5],[2,0],[10,3],[4,10],[1,8],[-6,10],[-10,2],[-10,-5],[-5,-5]],[[-5,-10],[0,-7],[5,-10],[10,-3],[5,0],[9,5],[4,10],[-3,7],[-7,9],[-10,5],[-7,0],[-9,-6]]];class N{constructor({x:t,y:s}){this.x=t,this.y=s,this.dx=0,this.dy=0,this.gs=Math.floor(Math.random()*$.length),this.rotation=Math.random()*Math.PI,this.os=.03*Math.random(),this.size=20,this.us=3,this.qt=!1,this.Ct=!1}vt({$t:t,dx:s,dy:i,Nt:e}){this.dx+=s/30,this.dy+=i/30,this.us-=t,this.us<=0&&(this.Ct=!0,this.ws=Array(20).fill().map(t=>new v({x:this.x,y:this.y})),this.Kt=50,e.Ft+=10)}kt(){this.Ct&&(this.Kt-=1,this.ws.map(t=>t.kt()),this.Kt<=0&&(this.qt=!0)),this.x+=this.dx,this.y+=this.dy,this.rotation+=this.os}Z(t){t.Z(()=>{this.Ct?this.ws.map(s=>s.Z(t)):t.ht({ht:$[this.gs].map(t=>[this.x+t[0],this.y+t[1]]),it:"#fff",shadowBlur:8,shadowColor:"#fff",rotation:this.rotation,x:this.x,y:this.y})})}}class Y{constructor(){this.zt()}zt(){this.bs=[];for(let t=0;t<40;t++){let t=Math.random()*Math.PI*2,s=Math.sin(t)*(210+400*Math.random()),i=Math.cos(t)*(210+400*Math.random());this.bs.push(new N({x:s,y:i}))}}kt(){this.bs.forEach(t=>t.kt()),this.bs=this.bs.filter(t=>!t.qt)}Z(t){this.bs.map(s=>s.Z(t))}}window.onload=()=>{const t=new r,s=new h(t.canvas),i=new a,e=new o.a,n=new f;t.initialize();let l=(new Date).getTime(),c=0,d=0,w=()=>{y(),M(),v()},y=()=>{B.jt?k.kt(i,B,D,S):(L.kt(B),_.kt(B),S.kt(e,B),B.kt(i,e,s,D.bs.concat(S.ns)),D.kt())},M=()=>{B.Xt.forEach(t=>{D.bs.forEach(s=>{n.Mt(t,s)&&e.W()}),S.ns.forEach(s=>{n.Mt(t,s)&&e.W()})}),S.ns.forEach(t=>{t.Xt.forEach(t=>{n.Mt(t,B)&&e.W(),D.bs.forEach(s=>{n.Mt(t,s)&&e.W()})})})},v=()=>{window.requestAnimationFrame(w),c=(new Date).getTime(),(d=c-l)>1e3/60&&(s.V(),g().map(t=>t.Z(s)),B.jt&&k.Z(s,B),B.Cs&&j.Z(s),l=c-d%(1e3/60))},g=()=>[b,A,D,S,B,_,L];const b=new p({gt:t.canvas.width,ch:t.canvas.height}),_=new m,L=new z,k=new C,A=new x,S=new O,j=new E,B=(new u,new R),D=new Y;document.querySelector("main").className+=" loaded",w()}}]);</script>